<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>WebDog</title><meta property="og:type" content="blog"><meta property="og:title" content="WebDog"><meta property="og:url" content="http://yoursite.com/"><meta property="og:site_name" content="WebDog"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://yoursite.com/img/og_image.png"><meta property="article:author" content="WebDog"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com"},"headline":"WebDog","image":["http://yoursite.com/img/og_image.png"],"author":{"@type":"Person","name":"WebDog"},"description":""}</script><link rel="alternative" href="/atom.xml" title="WebDog" type="application/atom+xml"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="WebDog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/webysx"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-03-30T12:42:14.000Z" title="2020-03-30T12:42:14.000Z">2020-03-30</time><span class="level-item">8 分钟 读完 (大约 1214 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/kali%E5%AE%89%E8%A3%85/">kali安装</a></h1><div class="content"><h2 id="kali系统安装"><a href="#kali系统安装" class="headerlink" title="kali系统安装"></a>kali系统安装</h2><p>1.创建虚拟机；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/1.png" alt="1"></p>
<p>2.选择典型；下一步；</p>
<img src="/kali%E5%AE%89%E8%A3%85/2.png" alt="2" style="zoom:200%;">

<p>3.选择安装程序光盘映像文件（kali官网下载的kali-Linux iOS镜像文件）；下一步；</p>
<img src="/kali%E5%AE%89%E8%A3%85/3.png" alt="3" style="zoom:200%;">

<p>4.选择Debian版本的aLinux系统；下一步；</p>
<img src="/kali%E5%AE%89%E8%A3%85/4.png" alt="4" style="zoom:200%;">

<p>5.自定义虚拟机名称和安装位置；下一步；</p>
<img src="/kali%E5%AE%89%E8%A3%85/5.png" alt="5" style="zoom:200%;">

<p>6.最大磁盘大小默认，将虚拟磁盘存储为单个文件；下一步；</p>
<img src="/kali%E5%AE%89%E8%A3%85/6.png" alt="6" style="zoom:200%;">

<p>7.完成；</p>
<img src="/kali%E5%AE%89%E8%A3%85/7.png" alt="7" style="zoom:200%;">

<p>8.开启此虚拟机；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/8.png" alt="8"></p>
<p>9.选择图形化安装；</p>
<img src="/kali%E5%AE%89%E8%A3%85/9.png" alt="9" style="zoom:200%;">

<p>10.选择中文；继续；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/10.png" alt="10"></p>
<p>11.选择中国；汉语；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/11.png" alt="11"></p>
<p><img src="/kali%E5%AE%89%E8%A3%85/12.png" alt="12"></p>
<p>12.主机名直接默认kali；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/13.png" alt="13"></p>
<p>13.跳过，直接继续；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/14.png" alt="14"></p>
<p>14.设置密码，跟window开机密码类似；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/15.png" alt="15"></p>
<p>15.使用整个磁盘；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/16.png" alt="16"></p>
<p><img src="/kali%E5%AE%89%E8%A3%85/17.png" alt="17"></p>
<p>16.将所有文件放在同一个分区中；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/18.png" alt="18"></p>
<p>17.结束分区设定并将修改写入磁盘；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/19.png" alt="19"></p>
<p><img src="/kali%E5%AE%89%E8%A3%85/20.png" alt="20"></p>
<p>19.安装系统需要些时间，耐心等待；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/21.png" alt="21"></p>
<p>20.不使用网络镜像；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/22.png" alt="22"></p>
<p><img src="/kali%E5%AE%89%E8%A3%85/23.png" alt="23"></p>
<p><img src="/kali%E5%AE%89%E8%A3%85/24.png" alt="24"></p>
<p><img src="/kali%E5%AE%89%E8%A3%85/25.png" alt="25"></p>
<p>21.完成安装，点继续启动；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/26.png" alt="26"></p>
<p>22.用户名默认为root，密码为先前设置的密码（第14步）；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/27.png" alt="27"></p>
<p><img src="/kali%E5%AE%89%E8%A3%85/28.png" alt="28"></p>
<p>打开kali之后出现乱码，这是由于最新版的kali默认不安装中文字体，所以中文会出现乱码；下面需要安装中文字体。</p>
<h2 id="安装中文字体解决乱码"><a href="#安装中文字体解决乱码" class="headerlink" title="安装中文字体解决乱码"></a>安装中文字体解决乱码</h2><p>1.打开终端；<img src="/kali%E5%AE%89%E8%A3%85/29.png" alt="29"></p>
<p>2.输入安装命令：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> install ttf-wqy-zenhei</span><br></pre></td></tr></table></figure>

<img src="/kali%E5%AE%89%E8%A3%85/30.png" alt="30" style="zoom:200%;">

<p>出现这种结果说明是安装出现错误；</p>
<p><strong>解决办法：</strong></p>
<p>输入命令，编辑文件：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vi</span> /etc/apt/sources.<span class="keyword">list</span></span><br></pre></td></tr></table></figure>

<p>按 i 进入编辑模式，写入官方源或国内源，这里我写的是阿里云的源；这里因为没有安装vmtools，所以只能手动输入；</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kali官方源</span><br><span class="line">deb <span class="string">http:</span><span class="comment">//http.kali.org/kali kali-rolling main non-free contrib</span></span><br><span class="line">deb-src <span class="string">http:</span><span class="comment">//http.kali.org/kali kali-rolling main non-free contrib</span></span><br><span class="line"></span><br><span class="line">阿里云源</span><br><span class="line">deb <span class="string">http:</span><span class="comment">//mirrors.aliyun.com/kali kali-rolling main non-free contrib</span></span><br><span class="line">deb-src <span class="string">http:</span><span class="comment">//mirrors.aliyun.com/kali kali-rolling main non-free contrib</span></span><br><span class="line"></span><br><span class="line">中科大源</span><br><span class="line">deb <span class="string">http:</span><span class="comment">//mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib</span></span><br><span class="line">deb-src <span class="string">http:</span><span class="comment">//mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib</span></span><br><span class="line"></span><br><span class="line">随便挑一个写进去（国内源会稍微快一点）</span><br></pre></td></tr></table></figure>

<p><img src="/kali%E5%AE%89%E8%A3%85/31.png" alt="31"></p>
<p>修改完成后按 Esc 退出编辑模式；然后输入 Shift + :wq 保存并退出；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/33.png" alt="33"></p>
<p><img src="/kali%E5%AE%89%E8%A3%85/34.png" alt="34"></p>
<p>然后输入命令：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">apt update</span></span><br></pre></td></tr></table></figure>

<p><img src="/kali%E5%AE%89%E8%A3%85/35.png" alt="35"></p>
<p>最后安装中文字体；</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> install ttf-wqy-zenhei</span><br></pre></td></tr></table></figure>

<p><img src="/kali%E5%AE%89%E8%A3%85/36.png" alt="36"></p>
<p>安装成功。</p>
<p><strong>设置中文字体</strong></p>
<p>1.重新配置安装的软件包，输入命令：</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dpkg-reconfigure locales</span></span><br></pre></td></tr></table></figure>

<p>2.选择字符编码，按空格选中，按 Tab 键切换选项；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/37.png" alt="37"></p>
<p>选中 en_US.UTF-8、zh_CN.GBK、zh_CN.UTF-8；然后按 Tab 键选择 OK（左边一个）后回车；</p>
<p>3.选择字符；</p>
<p>选择 zh_CN.UTF-8；然后按 Tab 键选择 OK 后回车；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/38.png" alt="38"></p>
<p><img src="/kali%E5%AE%89%E8%A3%85/39.png" alt="39"></p>
<p>最后输入命令<code>reboot</code>回车，重启即可。</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/40.png" alt="40"></p>
<h2 id="安装谷歌中文输入法"><a href="#安装谷歌中文输入法" class="headerlink" title="安装谷歌中文输入法"></a>安装谷歌中文输入法</h2><blockquote>
<p>基于fcitx输入法框架安装谷歌输入法。</p>
</blockquote>
<p>打开终端输入如下命令：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="builtin-name">get</span> install fcitx</span><br><span class="line">apt-<span class="builtin-name">get</span> install fcitx-googlepinyin</span><br><span class="line">reboot #重启</span><br></pre></td></tr></table></figure>

<p><img src="/kali%E5%AE%89%E8%A3%85/47.png" alt="47"></p>
<p>更换输入法；输入命令：</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">im-<span class="built_in">config</span></span><br></pre></td></tr></table></figure>

<p><img src="/kali%E5%AE%89%E8%A3%85/48.png" alt="48"></p>
<p>将输入法由默认改为fcitx；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/49.png" alt="49"></p>
<img src="/kali%E5%AE%89%E8%A3%85/50.png" alt="50" style="zoom:200%;">

<p>Ctrl + 空格 可以切换中英文。</p>
<h2 id="安装VMware-Tools"><a href="#安装VMware-Tools" class="headerlink" title="安装VMware Tools"></a>安装VMware Tools</h2><blockquote>
<p>安装VMware Tools后可以实现从物理机拖文件到虚拟机，屏幕自动铺满，粘贴复制，鼠标在物理机和虚拟机之间自由切换等等。</p>
</blockquote>
<p>1.在虚拟机选项中点击安装VMware Tools；<img src="/kali%E5%AE%89%E8%A3%85/41.png" alt="41"></p>
<p>弹出提示，直接叉掉即可；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/42.png" alt="42"></p>
<p>2.然后桌面上会出现VMware Tools，右键点击选择挂载卷；然后双击打开；<img src="/kali%E5%AE%89%E8%A3%85/43.png" alt="43"></p>
<p>3.将压缩文件拖到桌面上；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/44.png" alt="44"></p>
<p><img src="/kali%E5%AE%89%E8%A3%85/45.png" alt="45"></p>
<p>4.然后弹出卷；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/46.png" alt="46"></p>
<p>5.解压文件，打开终端，切换到桌面文件夹，输入命令（tab键可以自动补全文件名）：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tar</span> <span class="selector-tag">zxvf</span> <span class="selector-tag">VMwareTools-10</span><span class="selector-class">.3</span><span class="selector-class">.10-13959562</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure>

<p><img src="/kali%E5%AE%89%E8%A3%85/51.png" alt="51"></p>
<p>可以看到解压后桌面上多了一个文件夹；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/52.png" alt="52"></p>
<p>6.切换到<code>vmware-tools-distrib</code>文件夹，运行文件<code>vmware-install.pl</code>；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/53.png" alt="53"></p>
<p>根据提示选择回车，yes或no；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/54.png" alt="54"></p>
<p>删除对应的压缩文件和文件夹；</p>
<p><img src="/kali%E5%AE%89%E8%A3%85/55.png" alt="55"></p>
<p>最后<code>reboot</code>重启。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-03-30T12:42:14.000Z" title="2020-03-30T12:42:14.000Z">2020-03-30</time><span class="level-item">42 分钟 读完 (大约 6371 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">kali安装</a></h1><div class="content"><h1 id="LAMP环境搭建"><a href="#LAMP环境搭建" class="headerlink" title="LAMP环境搭建"></a>LAMP环境搭建</h1><blockquote>
<p>参考文章： <a href="http://c.biancheng.net/linux_tutorial/16/">http://c.biancheng.net/linux_tutorial/16/</a> </p>
</blockquote>
<h2 id="源码包"><a href="#源码包" class="headerlink" title="源码包"></a>源码包</h2><blockquote>
<p>如果安装过程中出现错误无法解决可以改换较高版本；</p>
</blockquote>
<p><strong>Linux</strong></p>
<blockquote>
<p>CentOS8，在虚拟机中搭建环境</p>
</blockquote>
<p><a href="http://mirrors.aliyun.com/centotitle">http://mirrors.aliyun.com/centotitle</a>: kali安装<br>date: 2020-03-30 20:42:14<br>tags: 网站<br>toc: trues/8.1.1911/isos/x86_64/CentOS-8.1.1911-x86_64-dvd1.iso</p>
<p><strong>Apache</strong></p>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/apache//httpd/httpd-2.4.43.tar.gz">https://mirrors.tuna.tsinghua.edu.cn/apache//httpd/httpd-2.4.43.tar.gz</a></p>
<p><strong>mysql</strong></p>
<p><a href="https://src.fedoraproject.org/lookaside/extras/community-mysql/mysql-5.5.39.tar.gz/md5/b6f0ba553fb1ac839921b1135cb184ae/mysql-5.5.39.tar.gz">https://src.fedoraproject.org/lookaside/extras/community-mysql/mysql-5.5.39.tar.gz/md5/b6f0ba553fb1ac839921b1135cb184ae/mysql-5.5.39.tar.gz</a></p>
<p><strong>PHP</strong></p>
<p><a href="https://www.php.net/distributions/php-5.5.23.tar.gz">https://www.php.net/distributions/php-5.5.23.tar.gz</a> </p>
<p><strong>PHPmyadmin</strong></p>
<p><a href="https://files.phpmyadmin.net/phpMyAdmin/4.1.4/phpMyAdmin-4.1.4-all-languages.zip">https://files.phpmyadmin.net/phpMyAdmin/4.1.4/phpMyAdmin-4.1.4-all-languages.zip</a></p>
<p><strong>libxml2_2.9.1.tar.gz</strong></p>
<p><a href="http://xmlsoft.org/sources/libxml2-2.9.10.tar.gz">http://xmlsoft.org/sources/libxml2-2.9.10.tar.gz</a> </p>
<p><strong>libmerypt-2.5.8.tar.gz</strong></p>
<p><a href="https://nchc.dl.sourceforge.net/project/mcrypt/Libmcrypt/2.5.8/libmcrypt-2.5.8.tar.gz">https://nchc.dl.sourceforge.net/project/mcrypt/Libmcrypt/2.5.8/libmcrypt-2.5.8.tar.gz</a></p>
<p><strong>mhash-0.9.9.9.tar.gz</strong> </p>
<p><a href="https://nchc.dl.sourceforge.net/project/mhash/mhash/0.9.9.9/mhash-0.9.9.9.tar.gz">https://nchc.dl.sourceforge.net/project/mhash/mhash/0.9.9.9/mhash-0.9.9.9.tar.gz</a> </p>
<p><strong>mcrypt-2-6.8-tar.gz</strong></p>
<p><a href="https://nchc.dl.sourceforge.net/project/mcrypt/MCrypt/2.6.8/mcrypt-2.6.8.tar.gz">https://nchc.dl.sourceforge.net/project/mcrypt/MCrypt/2.6.8/mcrypt-2.6.8.tar.gz</a> </p>
<p><strong>zlib-1.2.11.tar.gz</strong></p>
<p><a href="file:///D:/chrome/Downloads/zlib-1.2.11.tar.gz">file:///D:/chrome/Downloads/zlib-1.2.11.tar.gz</a></p>
<p><strong>libgd-2.1.0.tar.gz</strong></p>
<p><a href="https://bitbucket.org/libgd/gd-libgd/downloads/libgd-2.1.0.tar.gz">https://bitbucket.org/libgd/gd-libgd/downloads/libgd-2.1.0.tar.gz</a></p>
<p><strong>freetype-2.4.0.tar.gz</strong></p>
<p><a href="http://download.savannah.gnu.org/releases/freetype/freetype-2.4.0.tar.gz">http://download.savannah.gnu.org/releases/freetype/freetype-2.4.0.tar.gz</a></p>
<p><strong>libpng-1.2.59.tar.gz</strong></p>
<p><a href="ftp://ftp.simplesystems.org/pub/libpng/png/src/libpng12/libpng-1.2.59.tar.gz">ftp://ftp.simplesystems.org/pub/libpng/png/src/libpng12/libpng-1.2.59.tar.gz</a></p>
<p><strong>jpegsrc.v6b.tar.gz</strong></p>
<p><a href="http://www.ijg.org/files/jpegsrc.v6b.tar.gz">http://www.ijg.org/files/jpegsrc.v6b.tar.gz</a></p>
<p><strong>apr-1.4.6.tar.gz</strong></p>
<p><a href="http://archive.apache.org/dist/apr/apr-1.4.6.tar.gz">http://archive.apache.org/dist/apr/apr-1.4.6.tar.gz</a></p>
<p><strong>apr-util-1.4.1.tar.gz</strong></p>
<p><a href="http://archive.apache.org/dist/apr/apr-util-1.4.1.tar.gz">http://archive.apache.org/dist/apr/apr-util-1.4.1.tar.gz</a></p>
<p><strong>pcre-8.34.tar.gz</strong> </p>
<p><a href="http://sourceforge.net/projects/pcre/files/pcre/8.34/pcre-8.34.tar.gz">http://sourceforge.net/projects/pcre/files/pcre/8.34/pcre-8.34.tar.gz</a></p>
<p><strong>ncurses-6.2.tar.gz（推荐）</strong></p>
<p><a href="http://ftp.gnu.org/pub/gnu/ncurses/ncurses-6.2.tar.gz">http://ftp.gnu.org/pub/gnu/ncurses/ncurses-6.2.tar.gz</a></p>
<p><strong>memcache-3.0.8.tgz</strong></p>
<p><a href="http://pecl.php.net/get/memcache-3.0.8.tgz">http://pecl.php.net/get/memcache-3.0.8.tgz</a></p>
<p><strong>memcached-1.4.17.tar.gz</strong></p>
<p><a href="http://www.memcached.org/files/memcached-1.4.17.tar.gz">http://www.memcached.org/files/memcached-1.4.17.tar.gz</a></p>
<p><strong>解压脚本（一部分）</strong></p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vi tar.<span class="keyword">sh</span></span><br><span class="line">#建立解压缩脚本</span><br><span class="line">#! /bin/bash</span><br><span class="line">#标称是 <span class="keyword">Shell</span>脚本</span><br><span class="line"><span class="keyword">cd</span> /usr/<span class="keyword">local</span>/src/</span><br><span class="line">#进入保存源妈包的目录</span><br><span class="line"><span class="keyword">ls</span> *.tar.gz &gt; /usr/<span class="keyword">local</span>/src/<span class="keyword">ls</span>.<span class="keyword">log</span></span><br><span class="line">#把所有以.tar .gz结尾的文件名覆盖写入<span class="keyword">ls</span>.<span class="keyword">log</span>文件</span><br><span class="line"><span class="keyword">ls</span> *.tgz &gt;&gt; /usr/<span class="keyword">local</span>/src/<span class="keyword">ls</span>.<span class="keyword">log</span></span><br><span class="line">#把所有以.tgz结尾的文件名追加写入<span class="keyword">ls</span>.<span class="keyword">log</span>文件</span><br><span class="line"><span class="keyword">file</span>=$(<span class="keyword">cat</span> /usr/<span class="keyword">local</span>/src/<span class="keyword">ls</span>.<span class="keyword">log</span>)</span><br><span class="line">#读取 Is.<span class="keyword">log</span> 文件中的内容,赋子变量<span class="keyword">file</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$file</span></span><br><span class="line">#<span class="keyword">for</span>循环,每次德环把变量<span class="keyword">file</span>中的一个文件名</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">       tar -zxf <span class="variable">$i</span></span><br><span class="line">       #解压缩毎个压缩文件</span><br><span class="line">    done</span><br><span class="line"><span class="keyword">rm</span> -rf /usr/<span class="keyword">local</span>/src/<span class="keyword">ls</span>.<span class="keyword">log</span></span><br><span class="line">#删除临时文件<span class="keyword">ls</span>.<span class="keyword">log</span></span><br></pre></td></tr></table></figure>



<h2 id="Linux-libxml2安装"><a href="#Linux-libxml2安装" class="headerlink" title="Linux libxml2安装"></a>Linux libxml2安装</h2><ol>
<li><p>先查看一下含python-devel的包</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="built_in">search</span> <span class="keyword">python</span> | <span class="keyword">grep</span> <span class="keyword">python</span>-devel</span><br></pre></td></tr></table></figure>

<img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/4.png" alt="4" style="zoom:200%;">
</li>
<li><p>安装python-devel</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y <span class="keyword">install</span> platform-python-devel.x86_64</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/5.png" alt="5"></p>
</li>
<li><p>进入解压缩之后的源码目录，因为 “./configure”、”make” 和 “make install” 操作的都是当前所在目录，所以一定要进入解压缩之后的源码目录 </p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/libxml2<span class="number">-2.9</span><span class="number">.10</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编译前的准备和配置，这一步主要检查安装需要的系统环境、配置软件需要的功能选项，并生成配置安装文件 Makefile，以后的编译与编译安装过程需要依赖 Makefile 文件 </p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./configure --<span class="built_in">prefix</span>=/usr/<span class="built_in">local</span>/libxml2/</span><br><span class="line">#“--<span class="built_in">prefix</span>=/usr/<span class="built_in">local</span>/libxml2/”用于指定安装位置</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/6.png" alt="6"></p>
<p>我们一般会将源码包安装到 /usr/local/ 目录中，这个目录是 Linux 的默认源码包安装目录，并不推荐大家随意更改。至于安装目录名称，如果只是单独安装这个软件，则目录名称可以随意指定，不一定非要叫“libxml2”。但是我们在搭建 LAMP 环境时，这个软件会被后面的软件所调用，如果修改了安装目录名称，那么后面一系列的安装命令都要进行修改，非常容易报错，所以不建议大家随意修改 </p>
</li>
<li><p>编译，也就是依靠 gcc 把源码包翻译为二进制的机器语言包 </p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">make</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/7.png" alt="7"></p>
</li>
<li><p>编译安装，这一步才会真正向 /usr/local/ 目录中写入数据，这条命令执行之后，就会建立 /usr/local/libxml2/ 目录，并在目录下生成相应的文件</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make <span class="keyword">install</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/8.png" alt="8"></p>
</li>
</ol>
<h2 id="Linux-libmcrypt安装"><a href="#Linux-libmcrypt安装" class="headerlink" title="Linux libmcrypt安装"></a>Linux libmcrypt安装</h2><ol>
<li><p>进入解压缩目录</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src/libmcrypt<span class="number">-2.5</span><span class="number">.8</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编译前配置，并指定安装位置</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.<span class="regexp">/configure --prefix=/u</span>sr<span class="regexp">/local/</span>libmcrypt</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/9.png" alt="9"></p>
</li>
<li><p>编译</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">make</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/10.png" alt="10"></p>
</li>
<li><p>编译安装</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make <span class="keyword">install</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/11.png" alt="11"></p>
</li>
<li><p>安装 libltdl 库，在安装完 libmcrypt 之后，有些 Linux 还需要安装 libltdl 库，这个库是 libmcrypt 的子软件，就在 libmcrypt 的源码包之中，所以要进入 /usr/local/libmcrypt 目录才能看到 </p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/<span class="keyword">local</span>/src/libmcrypt<span class="number">-2.5</span><span class="number">.8</span>/libltdl</span><br><span class="line">./configure --<span class="keyword">enable</span>-ltdl-install</span><br><span class="line"><span class="built_in">make</span></span><br><span class="line"><span class="built_in">make</span> install</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/12.png" alt="12"></p>
</li>
</ol>
<h2 id="Linux-mhash和mcrypt安装"><a href="#Linux-mhash和mcrypt安装" class="headerlink" title="Linux mhash和mcrypt安装"></a>Linux mhash和mcrypt安装</h2><p><strong>Linux mhash安装</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost ~]# cd /usr/local/src/mhash<span class="number">-0.9</span><span class="number">.9</span><span class="number">.9</span></span><br><span class="line">#进入解压缩目录</span><br><span class="line">[<span class="symbol">root@</span>localhost mhash<span class="number">-0.9</span><span class="number">.9</span><span class="number">.9</span>]#./configure</span><br><span class="line">#没有指定安装位置。因为在mcrypt包安装时，会在默认位置查找mhash包，如果指定了安装位置，那么mcrypt包在安装时会报错</span><br><span class="line">[<span class="symbol">root@</span>localhost mhash<span class="number">-0.9</span><span class="number">.9</span><span class="number">.9</span>]# make</span><br><span class="line">#编译</span><br><span class="line">[<span class="symbol">root@</span>localhost mhash<span class="number">-0.9</span><span class="number">.9</span><span class="number">.9</span>]# make install</span><br><span class="line">#编译安装</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/13.png" alt="13"></p>
<p><strong>Linux mcrypt安装</strong></p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># cd /usr/local/src/mcrypt-2.6.8</span></span><br><span class="line"><span class="meta">#进入源码目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> mcrypt<span class="number">-2.6</span><span class="number">.8</span>]<span class="meta"># LD_LIBRARY_PATH=/usr/local/libmcrypt/lib:/usr/local/lib ./configure --with-libmcrypt-prefix=/usr/local/libmcrypt</span></span><br><span class="line"><span class="meta">#LD_LIBRARY_PATH用于指定libmcrypt和mhash库的位置</span></span><br><span class="line"><span class="meta">#./configure为编译前准备命令，--prefix用于指定libmcrypt软件位置</span></span><br><span class="line">[root<span class="symbol">@localhost</span> mcrypt<span class="number">-2.6</span><span class="number">.8</span>]<span class="meta"># make</span></span><br><span class="line"><span class="meta">#编译</span></span><br><span class="line">[root<span class="symbol">@localhost</span> mcrypt<span class="number">-2.6</span><span class="number">.8</span>]<span class="meta"># make install</span></span><br><span class="line"><span class="meta">#编译安装</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/14.png" alt="14"></p>
<p>在这里 mcrypt 并没有安装完成。因为 mcrypt 是 PHP 的模块，所以需要等到 PHP 安装完成之后，再继续安装。 </p>
<h2 id="Linux-zlib和libpng安装"><a href="#Linux-zlib和libpng安装" class="headerlink" title="Linux zlib和libpng安装"></a>Linux zlib和libpng安装</h2><p><strong>Linux zlib安装</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost ~]# cd /usr/local/src/zlib<span class="number">-1.2</span><span class="number">.11</span></span><br><span class="line">#进入zlib解压缩目录</span><br><span class="line">[<span class="symbol">root@</span>localhost zlib<span class="number">-1.2</span><span class="number">.11</span>]# ./configure</span><br><span class="line">#编译前配置，没有指定安装位置，zlib会安装到系统的默认位置。这是为了让libpng可以在默认位置中找到zlib。如果指定了zlib的安装位置，那么libpng在安装时可能会报错</span><br><span class="line">[<span class="symbol">root@</span>localhost zlib<span class="number">-1.2</span><span class="number">.11</span>]# make</span><br><span class="line">#编译</span><br><span class="line">[<span class="symbol">root@</span>localhost zlib<span class="number">-1.2</span><span class="number">.11</span>]# make install</span><br><span class="line">#编译安装</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/15.png" alt="15"></p>
<p><strong>Linux libpng安装</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost zlib<span class="number">-1.2</span><span class="number">.11</span>]# cd /usr/local/src/libpng<span class="number">-1.2</span><span class="number">.59</span></span><br><span class="line">#进入libpng解压缩目录</span><br><span class="line">[<span class="symbol">root@</span>localhost libpng<span class="number">-1.2</span><span class="number">.59</span>]# ./configure --prefix=/usr/local/libpng</span><br><span class="line">#编译前配置，指定安装位置</span><br><span class="line">[<span class="symbol">root@</span>localhost libpng<span class="number">-1.2</span><span class="number">.59</span>]# make</span><br><span class="line">#编译</span><br><span class="line">[<span class="symbol">root@</span>localhost libpng<span class="number">-1.2</span><span class="number">.59</span>]# make install</span><br><span class="line">#编译安装</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/16.png" alt="16"></p>
<h2 id="Linux-jpeg6安装"><a href="#Linux-jpeg6安装" class="headerlink" title="Linux jpeg6安装"></a>Linux jpeg6安装</h2><ol>
<li><p>手工建立必需的目录</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> root]<span class="meta"># mkdir /usr/local/jpeg6</span></span><br><span class="line"><span class="meta">#建立jpeg6软件安装目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> root]<span class="meta"># mkdir /usr/local/jpeg6/bin</span></span><br><span class="line"><span class="meta">#建立存放命令的目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> root]<span class="meta"># mkdir /usr/local/jpeg6/lib</span></span><br><span class="line"><span class="meta">#创建jpeg6函数库文件所在目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> root]<span class="meta"># mkdir /usr/local/jpeg6/<span class="meta-keyword">include</span></span></span><br><span class="line"><span class="meta">#建立存放头文件的目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> root]<span class="meta"># mkdir -p /usr/local/jpeg6/man/man1</span></span><br><span class="line"><span class="meta">#建立存放帮助手册的目录</span></span><br></pre></td></tr></table></figure>

<img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/17.png" alt="17" style="zoom:200%;">

<p>注意，这些目录必须手工建立，否则安装过程会报错 </p>
</li>
<li><p>编译与安装</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> libpng<span class="number">-1.2</span><span class="number">.59</span>]<span class="meta"># cd /usr/local/src/jpeg-6b/</span></span><br><span class="line"><span class="meta">#进入jpeg6解压缩目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> jpeg<span class="number">-6</span>b]<span class="meta"># ./configure --prefix=/usr/local/jpeg6/ --enable-shared --enable-static</span></span><br><span class="line"><span class="meta">#编译前配置</span></span><br><span class="line"><span class="meta">#--prefix指定安装位置</span></span><br><span class="line"><span class="meta">#--enable-shared建立共享库使用的GNU的libtool</span></span><br><span class="line"><span class="meta">#--enable-static建立静态库使用的GNU的libtool</span></span><br><span class="line"></span><br><span class="line">[root<span class="symbol">@localhost</span> jpeg<span class="number">-6</span>b]<span class="meta"># make</span></span><br><span class="line"><span class="meta">#编译</span></span><br><span class="line">[root<span class="symbol">@localhost</span> jpeg<span class="number">-6</span>b]<span class="meta"># make install</span></span><br><span class="line"><span class="meta">#编译安装</span></span><br></pre></td></tr></table></figure>


</li>
</ol>
<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/18.png" alt="18"></p>
<p>   在上面的过程中如果直接编译会出现如下报错：</p>
<p>   <img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/23.png" alt="23"></p>
<p>   出现报错是由于libtool版本过低所导致，重新下载新版本的libtool以默认方式安装即可，过程如下：</p>
<p>   <strong>下载</strong></p>
   <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="regexp">//mi</span>rror.keystealth.org<span class="regexp">/gnu/</span>libtool<span class="regexp">/libtool-2.4.6.tar.gz</span></span><br></pre></td></tr></table></figure>

<p>   如果下载慢的话可以先在windows中下载，然后再通过WinWPS上传到linux中；直接在linux centos中下载记得要打开网络；</p>
<p>   下载完成后将<code>libtool-2.4.6.tar.gz</code>放到<code>/usr/local/src</code>目录下；</p>
<p>   <strong>安装</strong></p>
   <figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#进入/usr/local/src目录</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">/usr/local/src</span></span><br><span class="line"><span class="comment">#解压缩源码包</span></span><br><span class="line">tar -zxvf libtool-2.4.6.tar.gz</span><br><span class="line"><span class="comment">#进入libtool-2.4.6目录</span></span><br><span class="line"><span class="keyword">cd</span> libtool-2.4.6</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置编译安装</span></span><br><span class="line"><span class="string">./configure</span></span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p>   <img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/21.png" alt="21"></p>
<p>   <img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/22.png" alt="22"></p>
<p>   <strong>修改配置文件</strong></p>
<p>   进入jpeg-6b的源码目录，执行以下步骤 ：</p>
   <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp <span class="regexp">/usr/</span>share<span class="regexp">/libtool/</span>build-aux<span class="regexp">/config.sub ./</span></span><br><span class="line">cp <span class="regexp">/usr/</span>share<span class="regexp">/libtool/</span>build-aux<span class="regexp">/config.guess ./</span></span><br></pre></td></tr></table></figure>

<p>   <img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/24.png" alt="24"></p>
<p>   <img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/25.png" alt="25"></p>
<ol start="3">
<li><p>重新安装jpeg6</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/<span class="keyword">local</span>/src/jpeg<span class="number">-6</span>b/</span><br><span class="line">./configure --prefix=/usr/<span class="keyword">local</span>/jpeg6/ --<span class="keyword">enable</span>-shared --<span class="keyword">enable</span>-static</span><br><span class="line"><span class="built_in">make</span></span><br><span class="line"><span class="built_in">make</span> install</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="Linux-freetype安装"><a href="#Linux-freetype安装" class="headerlink" title="Linux freetype安装"></a>Linux freetype安装</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost jpeg<span class="number">-6</span>b]# cd /usr/local/src/freetype<span class="number">-2.4</span><span class="number">.0</span></span><br><span class="line">#进入freetype解压缩目录</span><br><span class="line">[<span class="symbol">root@</span>localhost freetype<span class="number">-2.4</span><span class="number">.0</span>]# ./configure --prefix=/usr/local/freetype</span><br><span class="line">#编译前配置，指定安装位置</span><br><span class="line">[<span class="symbol">root@</span>localhost freetype<span class="number">-2.4</span><span class="number">.0</span>]# make</span><br><span class="line">#编译</span><br><span class="line">[<span class="symbol">root@</span>localhost freetype<span class="number">-2.4</span><span class="number">.0</span>]# make install</span><br><span class="line">#编译安装</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/26.png" alt="26"></p>
<h2 id="Linux-gd库安装"><a href="#Linux-gd库安装" class="headerlink" title="Linux gd库安装"></a>Linux gd库安装</h2><ol>
<li><p>进入 gd 库解压缩目录</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost ~]# cd /usr/local/src/libgd<span class="number">-2.1</span><span class="number">.0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改gd_png.c文件</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> libgd<span class="number">-2.1</span><span class="number">.0</span>]<span class="meta"># vim ./src/gd_png.c</span></span><br><span class="line"><span class="meta">#把文件中 <span class="meta-keyword">include</span> <span class="string">"png.h"</span>改为 <span class="meta-keyword">include</span> <span class="string">"/usr/local/libpng/include/png.h"</span></span></span><br></pre></td></tr></table></figure>

<img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/27.png" alt="27" style="zoom:200%;">

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/28.png" alt="28"></p>
<p>如果不修改 gd_png.c 文件，则默认会在当前目录下搜索 png.h 文件；因为 libpng 安装在 /usr/local/libpng/ 目录中，所以在当前目录不能找到，就会报错；把 png.h 的正确路径“/usr/local/libpng/include/png.h”写入，报错就能解决。；</p>
</li>
<li><p>编译安装</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost libgd<span class="number">-2.1</span><span class="number">.0</span>]# ./configure --prefix=/usr/local/gd2 --<span class="keyword">with</span>-jpeg=/usr/local/jpeg6 --<span class="keyword">with</span>-freetype=/usr/local/freetype --<span class="keyword">with</span>-png=/usr/local/libpng</span><br><span class="line">--prefix #指定安装位置</span><br><span class="line">--<span class="keyword">with</span>-jpeg #指定jpeg6的位置</span><br><span class="line">--<span class="keyword">with</span>-freetype #指定freetype的位置</span><br><span class="line">--<span class="keyword">with</span>-png #指定libpng的位置</span><br><span class="line">#编译前配置</span><br><span class="line">#因为gd库需要调用前面安装的zlib、jpeg、freetype和libpng，所以需要指定它们的安装位置，才能正确调用这些软件。不过因为前面安装zlib时没有指定安装位置，所以不用指定——<span class="keyword">with</span>-zlib=/usr/local/zlib/选项，gd会自动到默认安装位置中寻找zlib</span><br><span class="line">[root@localhost libgd<span class="number">-2.1</span><span class="number">.0</span>]# make</span><br><span class="line">#编译</span><br><span class="line">[root@localhost libgd<span class="number">-2.1</span><span class="number">.0</span>]# make install</span><br><span class="line">#编译安装</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/29.png" alt="29"></p>
</li>
</ol>
<h2 id="Linux-Apache安装"><a href="#Linux-Apache安装" class="headerlink" title="Linux Apache安装"></a>Linux Apache安装</h2><ol>
<li><p>复制 apr 和 apr-util 库，这里是 Apache 2.4 自己的 Bug，我们必须手工复制 apr、apr-util 和 pcre 这三个库，才可以正确安装 Apache 2.4；</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp -r <span class="regexp">/usr/</span>local<span class="regexp">/src/</span>apr-<span class="number">1.4</span>.<span class="number">6</span> <span class="regexp">/usr/</span>local<span class="regexp">/src/</span>httpd-<span class="number">2.4</span>.<span class="number">43</span><span class="regexp">/srclib/</span>apr</span><br><span class="line">cp -r <span class="regexp">/usr/</span>local<span class="regexp">/src/</span>apr-util-<span class="number">1.4</span>.<span class="number">1</span> <span class="regexp">/usr/</span>local<span class="regexp">/src/</span>httpd-<span class="number">2.4</span>.<span class="number">43</span><span class="regexp">/srclib/</span>apr-util</span><br><span class="line"><span class="comment">#这两个包先要解压缩，然后改名复制到指定位置</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/30.png" alt="30"></p>
</li>
<li><p>安装 pcre 源码包，pcre 是一个用 C 语言编写的正则表达式函数库，Apache 和 PHP 默认使用的就是 pcre 正则表达式规则 ；</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># cd /usr/local/src/pcre-8.34</span></span><br><span class="line"><span class="meta">#进入解压缩目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> pcre<span class="number">-8.34</span>]<span class="meta"># ./configure</span></span><br><span class="line"><span class="meta">#编译前配置</span></span><br><span class="line">[root<span class="symbol">@localhost</span> pcre<span class="number">-8.34</span>]<span class="meta"># make</span></span><br><span class="line"><span class="meta">#编译</span></span><br><span class="line">[root<span class="symbol">@localhost</span> pcre<span class="number">-8.34</span>]<span class="meta"># make install</span></span><br><span class="line"><span class="meta">#编译安装</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>进入 Apache 解压缩目录</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost pcre<span class="number">-8.34</span>]# cd /usr/local/src/httpd<span class="number">-2.4</span><span class="number">.43</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编译前配置</p>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">root@</span><span class="string">localhost </span><span class="string">httpd-2.</span>4.<span class="string">43]</span><span class="comment"># ./configure --prefix=/usr/local/apache2 --sysconfdir=/usr/local/apache2/etc --with-included-apr --enable-so --enable-deflate=shared --enable-expires=shared --enable-rewrite-shared</span></span><br><span class="line"><span class="built_in">--prefix</span> <span class="comment">#指定Apache安装目录</span></span><br><span class="line"><span class="built_in">--sysconfdir</span> <span class="comment">#指定Apache配置文件保存目录</span></span><br><span class="line"><span class="built_in">--with-included-apr</span> <span class="comment">#使用捆绑APR/APR-Util 的副本</span></span><br><span class="line"><span class="built_in">--enable-so</span> <span class="comment">#以动态共享对象(DSO)方式编译</span></span><br><span class="line"><span class="built_in">--enable-deflate=shared</span> <span class="comment">#启用编小传输编玛支持的模块</span></span><br><span class="line"><span class="built_in">--enable-expires=shared</span> <span class="comment">#根据用户的特别设定来生成失效和隐藏控制的HTTP头信息</span></span><br><span class="line"><span class="built_in">--enable-rewrite-shared</span> <span class="comment">#启动重写功能的模块</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/31.png" alt="31"></p>
</li>
<li><p>编译安装</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost httpd<span class="number">-2.4</span><span class="number">.43</span>]# make</span><br><span class="line">[<span class="symbol">root@</span>localhost httpd<span class="number">-2.4</span><span class="number">.43</span>]# make install</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动Apache，并进行测试</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost httpd<span class="number">-2.4</span><span class="number">.43</span>]# /usr/local/apache2/bin/apachectl start</span><br><span class="line">#启动Apache</span><br><span class="line">[<span class="symbol">root@</span>localhost httpd<span class="number">-2.4</span><span class="number">.43</span>]# netstat -tlun | grep <span class="number">80</span></span><br><span class="line">tcp6       <span class="number">0</span>      <span class="number">0</span> :::<span class="number">80</span>                   :::*                    LISTEN  </span><br><span class="line">#<span class="number">80</span>端口已经启动，说明Apache已经启动了</span><br></pre></td></tr></table></figure>

<p>用浏览器测试一下Apache服务器是否可以访问；</p>
<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/32.png" alt="32"></p>
</li>
<li><p>设置 Apache 开机自启</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="meta-keyword">/etc/</span>rc.d/rc.local </span><br><span class="line"><span class="meta">#在文件中加入apache启动命令</span></span><br><span class="line"><span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/apache2/</span>bin/apachectl start</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/33.png" alt="33"></p>
</li>
</ol>
<h2 id="Linux-ncurses安装"><a href="#Linux-ncurses安装" class="headerlink" title="Linux ncurses安装"></a>Linux ncurses安装</h2><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># cd /usr/locai/src/ncurses-6.2</span></span><br><span class="line"><span class="meta">#进入ncurses解压缩目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> ncurses<span class="number">-6.2</span>]<span class="meta"># ./configure --with-shared --without-debug --without-ada --enable-overwrite  </span></span><br><span class="line">--<span class="keyword">with</span>-shared <span class="meta">#生成共享库</span></span><br><span class="line">--without-debug <span class="meta">#不生成 debug 库</span></span><br><span class="line">--without-ada <span class="meta">#不编译为ada绑定，因为进入chroot环境不能用ada</span></span><br><span class="line">--enable-overwrite <span class="meta">#定义把头文件安装到/tools/<span class="meta-keyword">include</span>目录下，而不是/tools/<span class="meta-keyword">include</span>/ncurses 目录下</span></span><br><span class="line">[root<span class="symbol">@localhost</span> ncurses<span class="number">-6.2</span>]<span class="meta"># make </span></span><br><span class="line">[root<span class="symbol">@localhost</span> ncurses<span class="number">-6.2</span>)<span class="meta"># make install</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/34.png" alt="34"></p>
<h2 id="Linux-MySQL安装"><a href="#Linux-MySQL安装" class="headerlink" title="Linux MySQL安装"></a>Linux MySQL安装</h2><ol>
<li><p>添加 mysql 用户和 mysql 用户组</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># groupadd mysql</span></span><br><span class="line"><span class="meta">#添加mysql用户组</span></span><br><span class="line">[root<span class="symbol">@localhost</span> ～]<span class="meta"># useradd -g mysql mysql</span></span><br><span class="line"><span class="meta">#添加mysql用户，同时指定mysql用户的初始组是mysql组</span></span><br></pre></td></tr></table></figure>

<p>这里添加的 mysql 用户和用户组是稍后用来给 MySQL 安装目录分配权限用的，所以并不需要设定密码，因为这个用户是不能直接登录 Linux 系统的 ；</p>
</li>
<li><p>安装 cmake命令</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y <span class="keyword">install </span>cmake</span><br><span class="line">yum -y <span class="keyword">install </span><span class="keyword">bison</span></span><br><span class="line"><span class="keyword">yum </span>-y <span class="keyword">install </span>gcc gcc-c++ ncurses ncurses-devel</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/35.png" alt="35"></p>
</li>
<li><p>进入 MySQL 解压缩目录</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost ~]# cd /usr/local/src/mysql<span class="number">-5.5</span><span class="number">.39</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编译前配置</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost mysql-5.5.39]# cmake <span class="attribute">-DCMAKE_INSTALL_PREFIX</span>=/usr/local/mysql <span class="attribute">-DMYSQL_UNIX_ADDR</span>=/tmp/mysql.sock <span class="attribute">-DEXTRA_CHARSETS</span>=all <span class="attribute">-DDEFAULT_CHARSET</span>=utf8 <span class="attribute">-DDEFAULT_COLLATION</span>=utf8_general_ci <span class="attribute">-DWITH_MYISAM_STORAGE_ENGINE</span>=1 <span class="attribute">-DWITH_INNOBASE_STORAGE_ENGINE</span>=1 <span class="attribute">-DWITH_MEMORY_STORAGE_ENGINE</span>=1 <span class="attribute">-DWITH_READLINE</span>=1 <span class="attribute">-DENABLED_LOCAL_INFILE</span>=1 <span class="attribute">-DMYSQL_USER</span>=mysql <span class="attribute">-DMYSQL_TCP_PORT</span>=3306</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attribute">-DCMAKE_INSTALL_PREFIX</span>=/usr/local/mysql #指定安装位置</span><br><span class="line"><span class="attribute">-DMYSQL_UNIX_ADDR</span>=/tmp/mysql.sock #指定socket（套接字）文件位置</span><br><span class="line"><span class="attribute">-DEXTRA_CHARSETS</span>=all #支持所有的扩展字符集</span><br><span class="line"><span class="attribute">-DDEFAULT_CHARSET</span>=utf8 #指定默认字符集</span><br><span class="line"><span class="attribute">-DDEFAULT_COLLATION</span>=utf8_general_ci #指定默认字符校对</span><br><span class="line"><span class="attribute">-DWITH_MYISAM_STORAGE_ENGINE</span>=1 #安装myisam存储引擎</span><br><span class="line"><span class="attribute">-DWITH_INNOBASE_STORAGE_ENGINE</span>=1 #安装innodb存储引擎</span><br><span class="line"><span class="attribute">-DWITH_MEMORY_STORAGE_ENGINE</span>=1 #安装memory存储引擎</span><br><span class="line"><span class="attribute">-DWITH_READLINE</span>=1 #支持readline库</span><br><span class="line"><span class="attribute">-DENABLED_LOCAL_INFILE</span>=1 #启用加载本地数据</span><br><span class="line"><span class="attribute">-DMYSQL_USER</span>=mysql #指定MySQL运行用户</span><br><span class="line"><span class="attribute">-DMYSQL_TCP_PORT</span>=3306 #指定MySQL端口</span><br></pre></td></tr></table></figure>
</li>
<li><p>编译安装</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost mysql<span class="number">-5.5</span><span class="number">.39</span>]# make</span><br><span class="line">[<span class="symbol">root@</span>localhost mysql<span class="number">-5.5</span><span class="number">.39</span>]# make install</span><br></pre></td></tr></table></figure>

<p>在编译的时候出现错误：</p>
<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/37.png" alt="37"></p>
<p>解决方法：</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/src/</span>mysql<span class="number">-5.5</span><span class="number">.39</span><span class="meta-keyword">/client/</span>mysql.cc</span><br><span class="line"><span class="meta">#在第2658行的<span class="string">'\0'</span>q\前面加上(char*)，强制转换为字符指针</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/38.png" alt="38"></p>
</li>
<li><p>重新配置，编译安装</p>
<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/39.png" alt="39"></p>
</li>
<li><p>生成MySQL的配置文件，并修改配置文件；这个配置文件不用手工建立，在 MySQL 安装目录中给我们准备了模板文件，只需把模板文件复制到指定位置并改名即可</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost mysql-<span class="number">5.5</span>.<span class="number">39</span>]# <span class="keyword">cp</span> /usr/local/mysql/support-<span class="keyword">files</span>/my-medium.<span class="keyword">cnf</span> /etc/my.<span class="keyword">cnf</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改 MySQL 安装目录的权限</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> mysql<span class="number">-5.5</span><span class="number">.39</span>]<span class="meta"># cd /usr/local/mysql</span></span><br><span class="line"><span class="meta">#进入MySQL安装目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> mysql]<span class="meta"># chown -R root /usr/local/mysql</span></span><br><span class="line"><span class="meta">#把当前目录下所有文件的所有者改为root用户</span></span><br><span class="line">[root<span class="symbol">@localhost</span> mysql]<span class="meta"># chgrp -R mysql /usr/local/mysql</span></span><br><span class="line"><span class="meta">#把当前目录下所有文件的所属组改为mysql组</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/40.png" alt="40"></p>
</li>
<li><p>初始化数据库；源码包安装的 MySQL 中所有的数据库默认都保存在 /usr/local/mysql/data/ 目录中，MySQL 的初始数据库 mysql 库和 test 库也会保存在这个目录中；但是，如果仔细查看 /usr/local/mysql/data/ 目录，就会发现这个目录中只有两个空目录，并没有任何数据。也就是说，MySQL 中的所有数据库是不存在的，那么这个 MySQL 是不能使用的，因为 MySQL 的所有用户是要保存在 user 表中的，而 user 表保存在 mysql 库中，而 mysql 库是保存在 /usr/local/mysql/data/ 目录中的；那么，我们现在需要在 data 目录中建立 MySQL 的初始数据库 ；</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/<span class="keyword">local</span>/mysql/scripts/mysql_install_db <span class="comment">--user=mysql</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/41.png" alt="41"></p>
</li>
<li><p>继续修改MySQL安装目录的权限</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> mysql]<span class="meta"># chown -R root /usr/local/mysql</span></span><br><span class="line"><span class="meta">#把当前目录下所有文件的所有者改为root用户</span></span><br><span class="line">[root<span class="symbol">@localhost</span> mysql]<span class="meta"># chown -R mysql /usr/local/mysql/data</span></span><br><span class="line"><span class="meta">#把data目录的所有者改为mysql用户</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/42.png" alt="42"></p>
</li>
<li><p>启动 MySQL 服务器，并保证 mysql 服务开机自启动； </p>
<p>MySQL 服务器的安装已经完成，我们可以尝试启动 MySQL 服务器：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost mysql]# /usr/local/mysql/bin/mysqld_safe --user=mysql &amp;</span><br><span class="line">#使用mysql用户启动MySQL服务器，并在后台持续运行</span><br><span class="line">[<span class="symbol">root@</span>localhost ~]# netstat -tlun | grep <span class="number">3306</span></span><br><span class="line">tcp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">3306</span>            <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:*               LISTEN</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/43.png" alt="43"></p>
<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/44.png" alt="44"></p>
<p>设置 mysql 服务开机自启动 ；</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># vim /etc/rc.local</span></span><br><span class="line"><span class="comment">#修改自启动配置文件，加入如下的mysql服务标准启动命令</span></span><br><span class="line">/usr/<span class="keyword">local</span>/mysql/bin/mysqld_safe <span class="comment">--user=mysql &amp;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>设定 MySQL 中 root 用户的密码，并登录；</p>
<p>MySQL 数据库的管理员也是 root，我们需要给 MySQL 的本地用户设定一个密码，这里使用 Linux 的命令 mysqladmin 设定 MySQL 的 root 用户的密码 </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost mysql]# /usr/local/mysql/bin/mysqladmin -u root password 123456</span><br><span class="line"><span class="comment">#给MySQL的root用户设定密码为123456</span></span><br><span class="line">[root@localhost mysql]# /usr/local/mysql/bin/mysql -u root -p</span><br><span class="line"><span class="comment">#使用root用户登录mysql</span></span><br><span class="line">Enter password： #输入正确的密码</span><br><span class="line">Welcome <span class="keyword">to</span> the MySQL monitor.  Commands end with ; <span class="keyword">or</span> \g.</span><br><span class="line">Your MySQL<span class="built_in"> connection </span>id is 5</span><br><span class="line">Server version: 5.5.39-log Source distribution</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2014, Oracle <span class="keyword">and</span>/<span class="keyword">or</span> its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation <span class="keyword">and</span>/<span class="keyword">or</span> its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> <span class="keyword">or</span> <span class="string">'\h'</span> <span class="keyword">for</span> help.<span class="built_in"> Type </span><span class="string">'\c'</span> <span class="keyword">to</span> clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line"><span class="comment">#看到了MySQL的交互界面</span></span><br><span class="line">mysql&gt; \s #查询服务器状态信息</span><br><span class="line">--------------</span><br><span class="line">/usr/local/mysql/bin/mysql  Ver 14.14 Distrib 5.5.39, <span class="keyword">for</span> Linux (x86_64) using readline 5.1</span><br><span class="line"></span><br><span class="line">Connection id:		6</span><br><span class="line">Current database:	</span><br><span class="line">Current user:		root@localhost</span><br><span class="line">SSL:			<span class="keyword">Not</span> <span class="keyword">in</span> use</span><br><span class="line">Current pager:		stdout</span><br><span class="line">Using outfile:		<span class="string">''</span></span><br><span class="line">Using delimiter:	;</span><br><span class="line">Server version:		5.5.39-log Source distribution</span><br><span class="line">Protocol version:	10</span><br><span class="line">Connection:		Localhost via UNIX socket</span><br><span class="line">Server characterset:	utf8</span><br><span class="line">Db     characterset:	utf8</span><br><span class="line">Client characterset:	utf8</span><br><span class="line">Conn.  characterset:	utf8</span><br><span class="line">UNIX socket:		/tmp/mysql.sock</span><br><span class="line">Uptime:			16 min 56 sec</span><br><span class="line"></span><br><span class="line">Threads: 1  Questions: 11  Slow queries: 0  Opens: 33  Flush tables: 2  Open tables: 0  Queries per second avg: 0.010</span><br><span class="line">--------------</span><br><span class="line"></span><br><span class="line">mysql&gt; exit</span><br><span class="line"><span class="comment">#退出MySQL</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/46.png" alt="46"></p>
</li>
</ol>
<h2 id="Linux安装PHP"><a href="#Linux安装PHP" class="headerlink" title="Linux安装PHP"></a>Linux安装PHP</h2><ol>
<li><p>安装libtool和libtool-ltdl</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># yum -y install <span class="string">"libtool*"</span></span></span><br><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># yum -y install <span class="string">"libtool-ltdl*"</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编译安装 php 源码包</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost mysql]# cd /usr/local/src/php-5.5.23</span><br><span class="line">[root@localhost php-5.5.23]# ./configure <span class="attribute">--prefix</span>=/usr/local/php <span class="attribute">--with-config-file-path</span>=/usr/local/php/etc <span class="attribute">--with-apxs2</span>=/usr/local/apache2/bin/apxs <span class="attribute">--with-mysql</span>=/usr/local/mysql <span class="attribute">--with-libxml-dir</span>=/usr/local/libxml2 <span class="attribute">--with-jpeg-dir</span>=/usr/local/jpeg6 <span class="attribute">--with-png-dir</span>=/usr/local/libpng <span class="attribute">--with-freetype-dir</span>=/usr/local/freetype --with-gd <span class="attribute">--with-mcrypt</span>=/usr/local/libmcrypt <span class="attribute">--with-mysqli</span>=/usr/local/mysql/bin/mysql_config --enable-soap <span class="attribute">--enable-mbstring</span>=all --enable-sockets <span class="attribute">--with-pdo-mysql</span>=/usr/local/mysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attribute">--prefix</span>=/usr/local/php #指定安装位置</span><br><span class="line"><span class="attribute">--with-config-file-path</span>=/usr/local/php/etc #指定PHP配置文件位置</span><br><span class="line"><span class="attribute">--with-apxs2</span>=/usr/local/apache2/bin/apxs #调用apache2</span><br><span class="line"><span class="attribute">--with-mysql</span>=/usr/local/mysql #调用mysql</span><br><span class="line"><span class="attribute">--with-libxml-dir</span>=/usr/local/libxml2 #调用libxml2库</span><br><span class="line"><span class="attribute">--with-jpeg-dir</span>=/usr/local/jpeg6 #调用jpeg库</span><br><span class="line"><span class="attribute">--with-png-dir</span>=/usr/local/libpng #调用libpng库</span><br><span class="line"><span class="attribute">--with-freetype-dir</span>=/usr/local/freetype #调用freetype库</span><br><span class="line">--with-gd #调用gd库，不指定就会利用php自带的gd source编译</span><br><span class="line"><span class="attribute">--with-mcrypt</span>=/usr/local/libmcrypt #调用libmcrypt库</span><br><span class="line"><span class="attribute">--with-mysqli</span>=/usr/local/mysql/bin/mysql_config #增加MysqlLi功能</span><br><span class="line">--enable-soap #支持SOAP和Web Services</span><br><span class="line"><span class="attribute">--enable-mbstring</span>=all #支持多字节字符串</span><br><span class="line">--enable-sockets #支持socket（套接字）通信</span><br><span class="line"><span class="attribute">--with-pdo-mysql</span>=/usr/local/mysql #启用mysql的pdo模块支持</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost php-5.5.23]# make</span><br><span class="line"><span class="comment">#编译</span></span><br><span class="line">[root@localhost php-5.5.23]# make install</span><br><span class="line"><span class="comment">#编译安装</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/47.png" alt="47"></p>
</li>
<li><p>建立PHP配置文件，这个配置文件不用手工建立，也是有模板文件的，只需复制即可 </p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost php<span class="number">-5.5</span><span class="number">.23</span>]# cp /usr/local/src/php<span class="number">-5.5</span><span class="number">.23</span>/php.ini-production /usr/local/php/etc/php.ini</span><br></pre></td></tr></table></figure>
</li>
<li><p>让apache可以识别“.php”扩展名</p>
<p>在安装 PHP 时，在 ./configure 命令中使用 –with-apxs2=/usr/local/apache2/bin/apxs 选项，已经把 PHP 作为模块被 apache 识别了；但是，apache 并不知道哪些扩展名的文件要调用 PHP 模块来解析（如果是 apache 不认识的扩展名，那么客户端在访问时，apache 不会尝试解析，而是提示客户端下载），所以我们需要修改 apache 的配置文件，让 apache 可以识别PHP 脚本的扩展名 ；</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost php-5.5.23]<span class="comment"># vim /usr/local/apache2/etc/httpd.conf</span></span><br><span class="line"><span class="comment">#修改apache配置文件，加入如下内容</span></span><br><span class="line">AddType application/x-httpd-php <span class="string">.php</span> <span class="string">.phps</span></span><br><span class="line"><span class="comment">#这句话的意思是：如果遇到.php和.phps扩展名，则调用PHP模块来解析这个文件的内容</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/48.png" alt="48"></p>
</li>
<li><p>重启Apache服务器；我们修改了 apache 的配置文件，如果想让这个修改生效，那么必须重启 Apache 服务器；</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost php<span class="number">-5.5</span><span class="number">.23</span>]# /usr/local/apache2/bin/apachectl stop</span><br><span class="line">[<span class="symbol">root@</span>localhost php<span class="number">-5.5</span><span class="number">.23</span>]# /usr/local/apache2/bin/apachectl start</span><br></pre></td></tr></table></figure>

<p>这里最好不要使用 restart 参数，因为对于源码包的 apache 启动命令，restart 参数有时会不起作用 ；</p>
</li>
<li><p>测试PHP环境是否正常；对源码包安装的 apache 来讲，网页的默认保存位置是 <code>/usr/local/apache2/htdocs/</code> 目录。为了测试 PHP 环境是否正常，我们需要在这个目录中建立一个 PHP 文件，看看这个文件是否可以正常显示 ;</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost php-<span class="number">5.5</span>.<span class="number">23</span>]<span class="comment"># vim /usr/local/apache2/htdocs/index.php</span></span><br><span class="line">&lt;?php</span><br><span class="line">	phpinfo();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>用浏览器访问<code>index.php</code>;</p>
<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/50.png" alt="50"></p>
</li>
</ol>
<p><strong>继续安装 mcrypt</strong></p>
<blockquote>
<p>因为 mcrypt 是 PHP 的模块，所以需要等到 PHP 安装完成之后，才能按照以下步骤继续安装 mcrypt； </p>
</blockquote>
<ol>
<li><p>编译安装</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># cd cd /usr/local/src/php-5.5.23/ext/mcrypt</span></span><br><span class="line"><span class="meta">#进入PDO模块的解压缩目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> mcrypt]<span class="meta"># /usr/local/php/bin/phpize</span></span><br><span class="line"><span class="meta">#使用phpize加载PDO模块</span></span><br><span class="line">[root<span class="symbol">@localhost</span> mcrypt]<span class="meta"># ./configure --with-php-config=/usr/local/php/bin/php-config --with-mcrypt=/usr/local/libmcrypt</span></span><br><span class="line"></span><br><span class="line">--<span class="keyword">with</span>-php-config=/usr/<span class="keyword">local</span>/php/bin/php-config <span class="meta">#指定php-config文件的位置</span></span><br><span class="line">--<span class="keyword">with</span>-mcrypt=/usr/<span class="keyword">local</span>/libmcrypt <span class="meta">#调用libmcrypt</span></span><br><span class="line"></span><br><span class="line">[root<span class="symbol">@localhost</span> mcrypt]<span class="meta"># make</span></span><br><span class="line"><span class="meta">#编译</span></span><br><span class="line">[root<span class="symbol">@localhost</span> mcrypt]<span class="meta"># make install</span></span><br><span class="line"><span class="meta">#编译安装</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/51.png" alt="51"></p>
</li>
<li><p>修改PHP配置文件，要想让 PHP 可以识别和使用 memcache 和 mcrypt 模块，还需要修改一下 PHP 的配置文件；这里要先安装memcache（“Linux memcache安装和配置（自启动）”）；</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[root@localhost mcrypt]</span><span class="comment"># vim /usr/local/php/etc/php.ini</span></span><br><span class="line"><span class="comment">#修改PHP配置文件</span></span><br><span class="line"><span class="attr">extension_dir</span> = <span class="string">"./"</span></span><br><span class="line"><span class="comment">#在文件中找到上面这句话，把它改成下面这句</span></span><br><span class="line"><span class="attr">extension_dir</span>=<span class="string">"/usr/local/php/lib/php/extensions/no-debug-zts-20121212/"</span></span><br><span class="line"><span class="comment">#在加入以下两句话</span></span><br><span class="line"><span class="comment">; extension="memcache.so"</span></span><br><span class="line"><span class="comment">; extension="mcrypt.so"</span></span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/52.png" alt="52"></p>
</li>
<li><p>安装完成之后，重启 apache，就可以在 phpinfo 页面中看到这两个模块了；</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost php<span class="number">-5.5</span><span class="number">.23</span>]# /usr/local/apache2/bin/apachectl stop</span><br><span class="line">[<span class="symbol">root@</span>localhost php<span class="number">-5.5</span><span class="number">.23</span>]# /usr/local/apache2/bin/apachectl start</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/54.png" alt="54"></p>
</li>
</ol>
<h2 id="Linux-memcache安装和配置（自启动）"><a href="#Linux-memcache安装和配置（自启动）" class="headerlink" title="Linux memcache安装和配置（自启动）"></a>Linux memcache安装和配置（自启动）</h2><p><strong>memcache客户端安装</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost src]# yum -y install zlib-devel</span><br><span class="line">#安装底层依赖包zlib-devel</span><br><span class="line">[<span class="symbol">root@</span>localhost src]# cd /usr/local/src/memcache<span class="number">-3.0</span><span class="number">.8</span></span><br><span class="line">#进入memcache<span class="number">-3.0</span><span class="number">.8</span>解压缩目录</span><br><span class="line">[<span class="symbol">root@</span>localhost memcache<span class="number">-3.0</span><span class="number">.8</span>]# /usr/local/php/bin/phpize</span><br><span class="line">#用phpize加载memcache模块；这条命令一定要进入memcache目录才能正确执行</span><br><span class="line">[<span class="symbol">root@</span>localhost memcache<span class="number">-3.0</span><span class="number">.8</span>]# ./configure --with-php-config=/usr/local/php/bin/php-config</span><br><span class="line">#编译前配置，指定php-config文件的位置</span><br><span class="line">[<span class="symbol">root@</span>localhost memcache<span class="number">-3.0</span><span class="number">.8</span>]# make</span><br><span class="line">#编译</span><br><span class="line">[<span class="symbol">root@</span>localhost memcache<span class="number">-3.0</span><span class="number">.8</span>]# make install</span><br><span class="line">#编译安装</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/53.png" alt="53"></p>
<p><strong>memcache服务器端安装</strong></p>
<p>安装 memcached-1.4.17 服务器端程序 ：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>localhost ~]cd /usr/local/src/memcached<span class="number">-1.4</span><span class="number">.17</span></span><br><span class="line">[<span class="symbol">root@</span>localhost memcached<span class="number">-1.4</span><span class="number">.17</span>]# yum -y install libevent-devel</span><br><span class="line">#安装memcache，需要先安装libevent-devel包</span><br><span class="line">[<span class="symbol">root@</span>localhost memcached<span class="number">-1.4</span><span class="number">.17</span>]# ./configure --prefix=/usr/local/memcache</span><br><span class="line">#编译前配置</span><br><span class="line">[<span class="symbol">root@</span>localhost memcached<span class="number">-1.4</span><span class="number">.17</span>]# make</span><br><span class="line">#编译</span><br><span class="line">[<span class="symbol">root@</span>localhost memcached<span class="number">-1.4</span><span class="number">.17</span>]# make install</span><br><span class="line">#编译安装</span><br><span class="line"></span><br><span class="line">[<span class="symbol">root@</span>localhost memcached<span class="number">-1.4</span><span class="number">.17</span>]# useradd memcache</span><br><span class="line">#添加memcache用户，这个用户只是用来启动服务的，不用设置密码</span><br><span class="line">[<span class="symbol">root@</span>localhost memcached<span class="number">-1.4</span><span class="number">.17</span>]#/usr/local/memcache/bin/memcached -u memcache &amp;</span><br><span class="line">#在后台启动memcache服务器</span><br><span class="line">[<span class="symbol">root@</span>localhost memcached<span class="number">-1.4</span><span class="number">.17</span>]# netstat -tlun | grep <span class="number">11211</span></span><br><span class="line">tcp <span class="number">0</span> <span class="number">0</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">11211</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:* LISTEN</span><br><span class="line">tcp <span class="number">0</span> <span class="number">0</span>::<span class="number">11211</span> ::* LISTEN</span><br><span class="line">udp <span class="number">0</span> <span class="number">0</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>:<span class="number">11211</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span>：*</span><br><span class="line">udp <span class="number">0</span> <span class="number">0</span>::<span class="number">11211</span> ::*</span><br><span class="line">#memcache的端口是<span class="number">11211</span>，已经启动了</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/56.png" alt="56"></p>
<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/57.png" alt="57"></p>
<p>还要保证 memcache 开机自启动，命令如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost memcached-1.4.17]<span class="comment"># vim /etc/rc.local</span></span><br><span class="line"><span class="comment">#修改自启动文件</span></span><br><span class="line">touch /var/<span class="keyword">lock</span>/subsys/<span class="keyword">local</span></span><br><span class="line">/usr/<span class="keyword">local</span>/apache2/<span class="keyword">bin</span>/apachectl <span class="keyword">start</span></span><br><span class="line">/usr/<span class="keyword">local</span>/mysql/<span class="keyword">bin</span>/mysqld_safe <span class="comment">--user=mysql &amp;</span></span><br><span class="line">/usr/<span class="keyword">local</span>/memcache/<span class="keyword">bin</span>/memcached -u memcache &amp;</span><br><span class="line"><span class="comment">#加入memcache启动命令</span></span><br></pre></td></tr></table></figure>

<p>最终，LAMP 环境需要自启动的服务是 apache、mysql 和 memcache。</p>
<h2 id="linux-phpmyadmin安装及配置"><a href="#linux-phpmyadmin安装及配置" class="headerlink" title="linux phpmyadmin安装及配置"></a>linux phpmyadmin安装及配置</h2><p><strong>复制 phpMyAdmin 脚本文件</strong><br><code>/usr/local/apache2/</code>中的<code>htdocs</code>相当于网站根目录WWW；</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># cp -r /usr/local/src/phpMyAdmin-4.1.4-all-languages /usr/local/apache2/htdocs/phpmyadmin</span></span><br><span class="line"><span class="meta">#改名复制phpMyAdmin到apache的默认网页目录中</span></span><br><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># cd /usr/local/apache2/htdocs/phpmyadmin/</span></span><br><span class="line"><span class="meta">#进入phpmyadmin目录</span></span><br><span class="line">[root<span class="symbol">@localhost</span> phpmyadmin]<span class="meta"># cp config.sample.inc.php config.inc.php</span></span><br><span class="line"><span class="meta">#复制配置模板文件为真正的配置文件</span></span><br></pre></td></tr></table></figure>

<p>phpMyAdmin 和前面章节中介绍安装的源码包都不太一样，不再是使用 C 语言编写的源码包程序，而是一个使用 PHP 脚本编写的、通过浏览器解释执行的网站项目。所以在安装时，只需把 phpMyAdmin 复制到 apache 的默认网页目录中，并通过浏览器来解释执行这个脚本即可。 </p>
<p><strong>修改 phpMyAdmin 的验证方式</strong></p>
<p>phpMyAdmin 默认识别 3 种验证方式：</p>
<ul>
<li>HTTP 身份验证：调用apache的加密目录模块，在用户登录时，弹出登录窗口，需要输入正确的用户名和密码才能正常登录；</li>
<li>cookie 身份验证：是HTTP身份验证模式的补充，不能使用HTTP身份验证模式的场合都可以使用它，它要求用户必须允许来自phpMyAdmin的cookie进入自己的计算机，即用户需要在浏览器中开启客户端的cookie功能；</li>
<li>config 身份验证：客户端在登录时不再需要输入用户名和密码，就可以直接登录，因为用户名和密码是用明文方式写入config.inc.php配置文件的，所以这种验证方式并不安全，不推荐使用；</li>
</ul>
<ol>
<li><p>HTTP身份验证配置；要想使用 HTTP 身份验证，只需要修改 PHP 的配置文件 config.inc.php，把验证方式改为“http”即可；</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost phpmyadmin]# vim config.inc.php</span><br><span class="line">把 $cfg[<span class="string">'Servers'</span>][<span class="symbol">$i</span>][<span class="string">'auth_type'</span>] = 'cookie';</span><br><span class="line">改为 $cfg[<span class="string">'Servers'</span>][<span class="symbol">$i</span>][<span class="string">'auth_type'</span>] = 'http';</span><br></pre></td></tr></table></figure>

<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/59.png" alt="59"></p>
<p>保存退出后，就可以在浏览器中输入“<a href="http://127.0.0.1/phpmyadmin/index.php”进行访问了；">http://127.0.0.1/phpmyadmin/index.php”进行访问了；</a></p>
<p><img src="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/60.png" alt="60"></p>
<p>在登录对话框中输入 MySQL 的管理员“root”和我们刚刚安装 MySQL 时设定的密码“123456”就能登录 phpMyAdmin了。</p>
</li>
</ol>
<p>   <strong>到这里网站就基本搭建好了，可以开始接下来的入坑之路了。</strong></p>
<pre><code>&lt;img src=&quot;LAMP环境搭建/61.jpg&quot; alt=&quot;img&quot; style=&quot;zoom:200%;&quot; /&gt;  </code></pre></div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="/img/avatar.png" alt="WebDog"></figure><p class="title is-size-4 is-block line-height-inherit">WebDog</p><p class="is-size-6 is-block">少年有梦，不负韶华！</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">2</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/webysx" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/webysx"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/kali/"><span class="tag">kali</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BD%91%E7%AB%99/"><span class="tag">网站</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="订阅"></div></div></form></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-03-30T12:42:14.000Z">2020-03-30</time></p><p class="title is-6"><a class="link-muted" href="/kali%E5%AE%89%E8%A3%85/">kali安装</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-03-30T12:42:14.000Z">2020-03-30</time></p><p class="title is-6"><a class="link-muted" href="/LAMP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">kali安装</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">三月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="WebDog" height="28"></a><p class="size-small"><span>&copy; 2020 WebDog</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://yoursite.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><script>window.addEventListener("load", function () {
            MathJax.Hub.Config({
                'HTML-CSS': {
                    matchFontHeight: false
                },
                SVG: {
                    matchFontHeight: false
                },
                CommonHTML: {
                    matchFontHeight: false
                },
                tex2jax: {
                    inlineMath: [
                        ['$','$'],
                        ['\\(','\\)']
                    ]
                }
            });
        });</script><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":false},"log":false});</script></body></html>